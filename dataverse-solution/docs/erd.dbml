Project mfg {
  database_type: "Logical"
  Note: 'Production tracking: items through stations, packing lists'
}

Enum wo_status {
  PLANNED
  IN_PROGRESS
  DONE
  REWORK
}

Table products {
  id      int      [pk, increment]
  sku     varchar  [unique, not null]
  name    varchar  [not null]
  Note: 'Catalog of finished or semi-finished products'
}

Table work_orders {
  id          int       [pk, increment]
  product_id  int       [not null, ref: > products.id]
  qty         int       [not null]
  status      wo_status [not null, default: 'PLANNED']
  due_date    date
  Note: 'Manufacturing orders for products'
}

Table stations {
  id    int      [pk, increment]
  code  varchar  [unique, not null]
  name  varchar  [not null]
  Note: 'Production stations / cells'
}

Table wo_steps {
  id           int       [pk, increment]
  wo_id        int       [not null, ref: > work_orders.id]
  station_id   int       [not null, ref: > stations.id]
  started_at   timestamp
  finished_at  timestamp
  good_qty     int       [default: 0]
  scrap_qty    int       [default: 0]
  Note: 'Execution steps for a work order at a station'
}

Table packing_lists {
  id          int       [pk, increment]
  number      varchar   [unique, not null]
  wo_id       int       [not null, ref: > work_orders.id]
  created_at  timestamp
  Note: 'Shipment documents referencing work orders'
}
